---
import Layout from "../layouts/Layout.astro";
import VaillantLogo from "../images/vaillant_logo.svg";
import BechtleLogo from "../images/bechtle_logo.svg";
import CodeIcon from "../images/icons/code.svg";
---

<style>
  /* Reset default details styling */
  details {
    will-change: height;
  }

  /* Content wrapper animation with hardware acceleration */
  details .accordion-content {
    overflow: hidden;
    max-height: 0;
    opacity: 0;
    transform: translateZ(0); /* Force GPU acceleration */
    backface-visibility: hidden; /* Prevent flickering */
    perspective: 1000px; /* Create 3D rendering context */
    transition:
      max-height 300ms cubic-bezier(0.4, 0, 0.2, 1),
      opacity 200ms ease-out;
  }

  /* Open state */
  details[open] .accordion-content {
    max-height: 1000px;
    opacity: 1;
  }

  /* Inner content with anti-flicker properties */
  details .accordion-inner {
    transform: translate3d(0, -10px, 0); /* Use 3D transform */
    backface-visibility: hidden;
    transition: transform 200ms ease-out;
    will-change: transform;
  }

  details[open] .accordion-inner {
    transform: translate3d(0, 0, 0);
  }

  /* Summary hover effects */
  details summary {
    transition:
      color 200ms,
      background-color 200ms;
  }
</style>
<script>
  // Calculate and set actual heights for smoother animations
  document.addEventListener("DOMContentLoaded", () => {
    const details = document.querySelectorAll("details");

    details.forEach((detail) => {
      const content = detail.querySelector(".accordion-content") as HTMLElement;
      const inner = detail.querySelector(".accordion-inner") as HTMLElement;

      if (content && inner) {
        // Store the actual height
        detail.addEventListener("toggle", () => {
          if (detail.open) {
            // Calculate actual height
            content.style.maxHeight = inner.scrollHeight + "px";
          } else {
            // Force a reflow to ensure animation works
            content.offsetHeight; // This forces a reflow
            content.style.maxHeight = "0";
          }
        });

        // Set initial state
        if (!detail.open) {
          content.style.maxHeight = "0";
        }
      }
    });
  });
</script>
<Layout>
  <div class="px-(--inline-padding)">
    <div class="mx-auto max-w-4xl">
      <h2 class="font-medium pb-10">Experience</h2>
      <!-- Vaillant -->
      <div class="max-w-3xl border-b border-b-grey-200 mb-3">
        <div class="flex items-center gap-3 pb-3">
          <VaillantLogo width={24} height={32} />
          <h4 class="font-medium">Vaillant Group</h4>
          <div class="bg-orange-500 size-2 rounded-full animate-pulse"></div>
        </div>
        <details class="group" open>
          <summary
            class="flex cursor-pointer list-none items-center justify-between py-4 font-semibold transition-colors hover:bg-gray-50 [&::-webkit-details-marker]:hidden focus-visible:ring-2 focus-visible:ring-orange-500 focus-visible:ring-offset-2 focus-visible:outline-none rounded-sm"
          >
            <div>
              <div class="flex items-center gap-3">
                <div
                  class="flex items-center justify-center bg-orange-100 text-orange-800 rounded-lg size-6"
                >
                  <CodeIcon width={18} />
                </div>
                <p class="body-large font-medium">React Native Developer</p>
              </div>
              <div class="pl-9">
                <p>Full-time 05-2024 - now</p>
              </div>
            </div>
            <div class="ml-6 flex shrink-0 items-center">
              <svg
                class="size-5 transition-transform duration-200 group-open:rotate-180"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M19 9l-7 7-7-7"></path>
              </svg>
            </div>
          </summary>
          <div class="accordion-content">
            <div class="accordion-inner">
              <div class="pl-8 pb-4">
                <ul class="list-disc pl-4 text-grey-800 text-sm">
                  <li>Develop Web and Native myVaillant PRO App.</li>
                  <li>
                    Cooperate with business and design in creating new features.
                  </li>
                  <li>
                    Analyze technical capabilities and provide optimal
                    solutions.
                  </li>
                  <li>Ensure UI/UX consistency and adherence to standards.</li>
                </ul>
              </div>
            </div>
          </div>
        </details>
      </div>

      <!-- Bechtle -->
      <div class="max-w-3xl border-b border-b-grey-200 mb-3">
        <div class="flex items-center gap-3 pb-3">
          <BechtleLogo width={24} height={32} />
          <h4 class="font-medium">Bechtle / AV360</h4>
        </div>
        <details class="group" open>
          <summary
            class="flex cursor-pointer list-none items-center justify-between py-4 font-semibold transition-colors hover:bg-gray-50 [&::-webkit-details-marker]:hidden focus-visible:ring-2 focus-visible:ring-orange-500 focus-visible:ring-offset-2 focus-visible:outline-none rounded-sm"
          >
            <div>
              <div class="flex items-center gap-3">
                <div
                  class="flex items-center justify-center bg-orange-100 text-orange-800 rounded-lg size-6"
                >
                  <CodeIcon width={18} />
                </div>
                <p class="body-large font-medium">Software Developer</p>
              </div>
              <div class="pl-9">
                <p>Full-time 12-2020 - 05-2024</p>
              </div>
            </div>
            <div class="ml-6 flex shrink-0 items-center">
              <svg
                class="size-5 transition-transform duration-200 group-open:rotate-180"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M19 9l-7 7-7-7"></path>
              </svg>
            </div>
          </summary>
          <div class="accordion-content">
            <div class="accordion-inner">
              <div class="pl-8 pb-4">
                <p class="text-grey-800 underline pb-2 text-sm">
                  Develop interface for document management platform
                </p>
                <ul class="list-disc pl-4 text-grey-800 pb-3 text-sm">
                  <li>
                    Developed interface for a document management platform using
                    ReactJS, FluentUI, and TypeScript.
                  </li>
                  <li>
                    Designed and applied a testing strategy with Jest and
                    snapshot tests to improve software reliability.
                  </li>
                  <li>
                    Devised and executed more effective solutions for large data
                    tables using infinite scrolling and pagination.
                  </li>
                  <li>
                    Collaborated closely with UI/UX Design Team to enhance
                    interface usability and aesthetics.
                  </li>
                </ul>
                <p class="text-grey-800 underline pb-2 text-sm">
                  Ideated and implemented a multi-platform chat messaging app in
                  Tauri, boosting the company’s product portfolio and revenue
                </p>
                <ul class="list-disc pl-4 text-grey-800 text-sm pb-4">
                  <li>
                    Constructed interfaces and logic for system management and
                    chat messaging applications.
                  </li>
                  <li>
                    Incorporated the open-source Matrix Protocol for enhanced
                    communication capabilities.
                  </li>
                  <li>
                    Created an advanced editor using the Lexical Framework,
                    contributing to the expansion of the company’s software
                    capabilities.
                  </li>
                  <li>
                    Implemented CI/CD pipeline on Azure for Tauri and Rust,
                    streamlining the development and deployment process.
                  </li>
                </ul>
                <p class="max-w-3xl text-grey-800 text-sm font-medium">
                  Throughout my tenure, I have successfully tackled complex
                  challenges, innovated solutions, and developed impactful
                  software. My contributions have played a key role in enhancing
                  product quality and user experience, ultimately leading to
                  increased customer satisfaction and revenue growth for the
                  company.
                </p>
              </div>
            </div>
          </div>
        </details>
      </div>
    </div>
  </div>
</Layout>
