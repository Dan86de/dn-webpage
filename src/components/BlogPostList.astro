---
import { getReadingTime } from "@/lib/readingTime";
import type { CollectionEntry } from "astro:content";

interface Props {
  posts: CollectionEntry<"blog">[];
}

const { posts } = Astro.props;
---

<div class="space-y-0">
  {
    posts.map((post) => {
      const readingTime = getReadingTime(post.body || "");
      const formattedDate = post.data.publishDate.toLocaleDateString(
        "en-US",
        {
          year: "numeric",
          month: "short",
          day: "numeric",
        }
      );

      return (
        <a
          href={`/blog/${post.data.slug}`}
          class="group block py-12 border-b border-gray-200 dark:border-gray-800 last:border-b-0 hover:border-gray-300 dark:hover:border-gray-700 transition-colors"
        >
          <article class="flex gap-8 items-start">
            <div class="flex-1">
              <h2 class="text-2xl font-medium mb-4 group-hover:bg-brand-gradient group-hover:bg-clip-text group-hover:text-transparent transition-colors">
                {post.data.title}
              </h2>
              <p class="text-gray-600 dark:text-gray-400 text-base leading-relaxed">
                {post.data.description}
              </p>
            </div>
            <div class="text-right text-sm text-gray-500 dark:text-gray-500 flex-shrink-0">
              <div class="font-medium mb-1">Article</div>
              <div>{formattedDate}</div>
            </div>
          </article>
        </a>
      );
    })
  }
</div>
